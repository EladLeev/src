{% extends "base.html" %}

{% block content %}

    <!-- WELCOME -->
    <section class="py-5 py-md-10 bg-dark">

      <!-- Shape -->
      <div class="shape shape-blur-3 svg-shim text-white">
        <svg viewBox="0 0 1738 487" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h1420.92s713.43 457.505 0 485.868C707.502 514.231 0 0 0 0z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="0" y1="0" x2="1049.98" y2="912.68" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor" stop-opacity=".075"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></linearGradient></defs></svg>
      </div>

      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center" data-aos="fade-up">

            <!-- Heading -->
            <h1 class="display-2 fw-bold text-white">
              Stats
            </h1>


          </div>
        </div> <!-- / .row -->

      </div> <!-- / .container -->
    </section>

    <!-- SHAPE -->
    <div class="position-relative">
      <div class="shape shape-bottom shape-fluid-x svg-shim text-light">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg>
      </div>
    </div>

    <!-- TOP 500 -->
    <section class="pt-3">
        <div class="container">

          <div class="row">
            <div class="col-12">
              <!-- Heading -->
              <h2 class="mb-0">
                Top premiere videos
              </h2>
              <!-- Text -->
              <p class="mb-5 text-muted">
                The following statistics are generated on the basis of our top 500 videos - all numbers are underestimates.
              </p>
            </div>
          </div> <!-- / .row -->

          <div class="row">

            <!-- Table -->
            <div class="table-responsive mb-7 mb-md-9">
              <table class="table table-align-middle">
                <thead>
                  <tr>
                    <th>
                        <span class="h6 text-uppercase fw-bold">
                            Premiere
                        </span>
                    </th>
                    <th>
                        <span class="h6 text-uppercase fw-bold">
                            Attendees
                            (Premiere)
                        </span>
                    </th>
                    <th>
                        <span class="h6 text-uppercase fw-bold">
                            Talk views
                        </span>
                    </th>
                    <th>
                        <span class="h6 text-uppercase fw-bold">
                            Talk engagement (minutes)
                        </span>
                    </th>
                    <th>
                        <span class="h6 text-uppercase fw-bold">
                            YouTube impressions
                        </span>
                    </th>
                  </tr>
                </thead>
                <tbody>
                {% set count = namespace(value=0) %}
                {% for stat in premieres %}
                    
                    {% set count.value = count.value + 1 %}
                    <tr>
                    <td>
                        <p class="mb-1">
                            <a href="{{ stat.event.url }}">
                                Conf42: {{ stat.event.name }} {{ stat.event.year }}
                            </a>
                        </p>
                    </td>
                    <td>
                        <p class="fs-sm mb-0">
                            {{ "{:,.0f}".format(stat.stats.Views|int) }}
                        </p>
                    </td>
                    <td>
                        <p class="fs-sm mb-0">
                            {{ "{:,.0f}".format(stat.event.totals.views) }}
                        </p>
                    </td>
                    <td>
                        <p class="fs-sm mb-0">
                            {{ "{:,.0f}".format(stat.event.totals.minutes) }}
                        </p>
                    </td>
                    <td>
                        <p class="fs-sm mb-0">
                            {{ "{:,.0f}".format(stat.event.totals.impressions) }}
                        </p>
                    </td>
                    </tr>

                {% endfor %}
                </tbody>
              </table>

          </div>
        </div> <!-- / .container -->
      </section>


{% endblock %}
