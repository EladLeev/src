1
00:00:41,330 --> 00:00:44,422
There. Today's talk is about truth about

2
00:00:44,476 --> 00:00:48,486
running cloud security assessments in 2021. A practitioner story.

3
00:00:48,668 --> 00:00:52,714
The topic should really have been documentation versus the reality

4
00:00:52,762 --> 00:00:56,346
of cloud cloud cloud security assessments in modern

5
00:00:56,378 --> 00:00:59,726
day architecture of cloud environment in

6
00:00:59,748 --> 00:01:02,846
2021. That should have been the real title. But clearly you

7
00:01:02,868 --> 00:01:05,454
would not be here if I said that you might think it's just a fun

8
00:01:05,492 --> 00:01:08,834
talk. Maybe you may be right. But before I get into this,

9
00:01:08,872 --> 00:01:12,466
let's talk about what am I going to discuss in this talk? I would

10
00:01:12,488 --> 00:01:16,406
be talking about the framework that people use to run assessments and

11
00:01:16,428 --> 00:01:20,550
the framework that people use to run assessments against themselves in

12
00:01:20,620 --> 00:01:24,114
any given paid engagement. We also talk about assessment landscape,

13
00:01:24,162 --> 00:01:27,138
the type of threats, the assessment types, automation,

14
00:01:27,234 --> 00:01:30,566
do you even need it? And come of the differentiation

15
00:01:30,598 --> 00:01:34,422
between running an assessment from an auditor versus having automated

16
00:01:34,486 --> 00:01:37,622
tooling. And in conclusion, well, we'll conclude

17
00:01:37,686 --> 00:01:41,222
with what the real truth is about everything, but the documentation

18
00:01:41,286 --> 00:01:44,586
really holds up the test of ground. There is an assumption made that

19
00:01:44,608 --> 00:01:48,526
you understand one or more services of the cloud service provider that

20
00:01:48,548 --> 00:01:51,806
you may be dealing with. It could be any cloud service provider. You don't have

21
00:01:51,828 --> 00:01:55,118
to be an expert in it, but having some understanding of some of

22
00:01:55,124 --> 00:01:58,526
the foundational pieces would be helpful as we go through this talk. If you're

23
00:01:58,558 --> 00:02:02,082
an auditor, even better, maybe this may be an introduction to

24
00:02:02,136 --> 00:02:05,246
what modern auditing could look like. So without further ado,

25
00:02:05,278 --> 00:02:08,726
let's get into this. First of all, nine to five, I am the head

26
00:02:08,748 --> 00:02:12,710
of security and as a CISO, four of a growing company.

27
00:02:12,860 --> 00:02:15,894
Normal day for me is about running initiatives and trying

28
00:02:15,932 --> 00:02:19,570
to reduce the risk of an overall organization's security posture.

29
00:02:19,650 --> 00:02:22,890
Before that, I used to run a practice of cloud

30
00:02:22,960 --> 00:02:25,962
security for a consulting company, which I'm an investor in.

31
00:02:26,096 --> 00:02:29,386
We used to help organizations of all sizes in

32
00:02:29,408 --> 00:02:32,874
different industries, specifically enterprise, move into

33
00:02:32,912 --> 00:02:35,998
cloud through digital transformation. Outside my nine to

34
00:02:36,004 --> 00:02:39,274
five on the weekends, I am the host of Cloud security podcast, a weekly

35
00:02:39,322 --> 00:02:42,990
video podcast which is live streamed every week, and we talk to different

36
00:02:43,060 --> 00:02:46,634
cloud security experts on various topics around cloud security each week.

37
00:02:46,692 --> 00:02:50,222
If you are a follower of the podcast and subscribe

38
00:02:50,286 --> 00:02:53,666
or come on livestream special shout out to you and thank you for joining me

39
00:02:53,688 --> 00:02:57,126
over here. Looking at the experience that I've had as an auditor, you would be

40
00:02:57,148 --> 00:03:01,334
able to take that and apply some of those concepts into your

41
00:03:01,452 --> 00:03:05,318
environment as applying from a perspective of if you

42
00:03:05,324 --> 00:03:09,126
have an internal auditor, what kind of questions you should be asking them, or what

43
00:03:09,148 --> 00:03:12,426
kind of expectations you should have from them, or what kind of information you should

44
00:03:12,448 --> 00:03:16,298
be provider them so they can help you the best way possible. First thing,

45
00:03:16,384 --> 00:03:19,754
suitable framework based on the organization you work for and

46
00:03:19,792 --> 00:03:23,214
the kind of data you deal with. You may have a lot of frameworks from

47
00:03:23,252 --> 00:03:27,450
a compliance perspective that you may have to adhere to. Those frameworks

48
00:03:27,530 --> 00:03:31,242
are pretty rigid in terms of requirements

49
00:03:31,306 --> 00:03:35,134
they have. Some of them even call out specifically what encryption algorithms

50
00:03:35,182 --> 00:03:38,126
should be used. You could be looking at things like NIST,

51
00:03:38,238 --> 00:03:41,730
ISO 27,001, GDPR, sock two type two,

52
00:03:41,800 --> 00:03:45,346
PCI, HIPAA. We can keep going on, but a

53
00:03:45,368 --> 00:03:48,998
lot of these would primarily depend on the kind of organization you have and the

54
00:03:49,004 --> 00:03:53,174
kind of data you store in cloud. This may not be as different to

55
00:03:53,212 --> 00:03:56,454
what you run on your data center environment, but it will be

56
00:03:56,492 --> 00:04:00,098
different in terms of the kind of landscape you have in your

57
00:04:00,124 --> 00:04:03,258
cloud environment and how shared responsibility plays an important

58
00:04:03,344 --> 00:04:07,478
role in this, especially if you're in a hybrid environment where your applications

59
00:04:07,574 --> 00:04:10,734
exist both in an on premise world as well as a

60
00:04:10,772 --> 00:04:14,494
cloud world. You may have to think about custom frameworks where what

61
00:04:14,532 --> 00:04:18,046
segmentation is appropriate for your architecture, whether you

62
00:04:18,068 --> 00:04:21,882
have your non compliance driven architecture

63
00:04:21,946 --> 00:04:25,554
or non compliance driven data and application

64
00:04:25,752 --> 00:04:29,410
hosted in cloud, whereas the compliance driven sensitive data

65
00:04:29,480 --> 00:04:32,658
being hosted on premise. There could be multiple models like that as well.

66
00:04:32,744 --> 00:04:36,430
But primarily you would use a foundational piece like a NIST

67
00:04:36,510 --> 00:04:39,574
CSF or ISO 27,001 as a base.

68
00:04:39,692 --> 00:04:43,014
And on top of that, build for the cloud service provider you work

69
00:04:43,052 --> 00:04:47,174
on now, that's generally the kind of framework as a

70
00:04:47,292 --> 00:04:50,982
baseline that you would start with. Let's talk about the cloud assessment landscape.

71
00:04:51,046 --> 00:04:54,838
As you can imagine, I love blogs. The reason I had this picture for expectation

72
00:04:54,934 --> 00:04:58,522
versus reality is the expectation that people have about

73
00:04:58,576 --> 00:05:02,302
landscape. For any cloud environment. I'm going to take the three most popular ones,

74
00:05:02,356 --> 00:05:05,646
Azure, GCP and AWS. They all have

75
00:05:05,748 --> 00:05:08,938
documentation on AWS. Well architected framework,

76
00:05:09,034 --> 00:05:12,714
well architected framework in Google Cloud, well architected framework

77
00:05:12,762 --> 00:05:16,046
in Azure. But how many people actually follow these?

78
00:05:16,148 --> 00:05:19,346
Even though cloud service providers have been quite open about what you

79
00:05:19,368 --> 00:05:22,818
should be doing as the right form of architecture? Answer is none of

80
00:05:22,824 --> 00:05:26,642
them. People go through exercises to shape some of their

81
00:05:26,696 --> 00:05:30,194
organization architecture with the well architected framework.

82
00:05:30,242 --> 00:05:33,394
I think AWS and some of the other cloud service provider

83
00:05:33,442 --> 00:05:37,014
have assessments that help you map to how aligned you

84
00:05:37,052 --> 00:05:40,746
are to the well architected framework. But a lot of times what we

85
00:05:40,768 --> 00:05:44,902
would find in an audit is it's not really well aligned,

86
00:05:44,966 --> 00:05:48,122
it's not by the textbook. So that kind of makes things quite

87
00:05:48,176 --> 00:05:51,354
challenging. To that point, the cloud adoption type,

88
00:05:51,392 --> 00:05:54,814
what you really see in the real world as an auditor or as someone

89
00:05:54,852 --> 00:05:58,314
who runs a cloud security assessment is cloud architecture,

90
00:05:58,362 --> 00:06:01,086
which would have been migrated into cloud.

91
00:06:01,188 --> 00:06:04,826
How do I put this in a simple way so I don't offend

92
00:06:04,858 --> 00:06:08,606
anyone? There are two ways to move into cloud. One is a simple lift

93
00:06:08,638 --> 00:06:12,226
and shift model where you had something on premise and you moved it exactly as

94
00:06:12,248 --> 00:06:15,682
it is into cloud. That's called lift and shift, whereas there's another model

95
00:06:15,736 --> 00:06:19,298
where you migrated into cloud but went through digital transformation,

96
00:06:19,394 --> 00:06:23,110
you made them into microservices and started using some of the services

97
00:06:23,180 --> 00:06:26,886
which were provided by a cloud provider. Now, depending on

98
00:06:26,908 --> 00:06:30,614
what stage of migration you are in, like for example, if you're migrated

99
00:06:30,662 --> 00:06:33,786
recently, or if you've been in the cloud for a

100
00:06:33,808 --> 00:06:37,818
year or maybe for a few years, you may have a separate security

101
00:06:37,984 --> 00:06:41,270
tenancy or account in your cloud service provider.

102
00:06:41,350 --> 00:06:45,070
And depending on the cloud adoption type, you could have gone down

103
00:06:45,140 --> 00:06:48,974
either ways. What that means is you would come across teams which have

104
00:06:49,012 --> 00:06:52,778
been specifically designed that their job is to provision

105
00:06:52,874 --> 00:06:56,434
the tenancy or accounts for the CSP that

106
00:06:56,472 --> 00:06:59,586
the customer is using. Each business unit sometimes are given

107
00:06:59,688 --> 00:07:03,390
a lot of liberty in what they can do in each of these tenancies,

108
00:07:03,470 --> 00:07:06,530
but there's usually like a central team that creates it.

109
00:07:06,600 --> 00:07:09,878
Sometimes it's just the individual business unit are paying for themselves.

110
00:07:09,964 --> 00:07:13,634
But predominantly the adoption type is varied.

111
00:07:13,682 --> 00:07:17,334
So when you walk into an organization and thinking about, okay, clearly well

112
00:07:17,372 --> 00:07:20,726
architected framework is not going to be the case because the

113
00:07:20,748 --> 00:07:24,362
reality is depending on what stage of migration they are in and

114
00:07:24,416 --> 00:07:27,498
how they migrated, it could be a combination of any of these.

115
00:07:27,584 --> 00:07:31,194
So my advice would be to what kind of adoption was this

116
00:07:31,232 --> 00:07:35,038
and at what stage of migration to cloud they are currently

117
00:07:35,124 --> 00:07:38,702
at, to kind of get into that physical mind from of, okay, this is

118
00:07:38,756 --> 00:07:42,126
the kind of question or the subset I should be thinking of. Once you

119
00:07:42,148 --> 00:07:45,646
understand the type of adoption or the stage that the

120
00:07:45,668 --> 00:07:49,474
customer is in, the next obvious step that a lot of people go into is

121
00:07:49,512 --> 00:07:53,182
let's talk about the different source types that I need to assess expectation

122
00:07:53,246 --> 00:07:56,786
over there. If you look at the documentation, if you're in AWS, the expectation would

123
00:07:56,808 --> 00:08:00,454
be, I would get a lot of cloudformation templates. You probably would

124
00:08:00,492 --> 00:08:04,274
be only using one cloud service provider, maybe two maximum,

125
00:08:04,322 --> 00:08:07,570
right? Why would you go more than two? If you are a mature organization,

126
00:08:07,650 --> 00:08:11,258
you may even be using cloud native services, which could be

127
00:08:11,344 --> 00:08:14,474
cheap combination of services provider by your cloud

128
00:08:14,512 --> 00:08:17,962
service provider and maybe even deploying multiple times a day as well.

129
00:08:18,016 --> 00:08:21,514
All of that would be built on a code repository because everything

130
00:08:21,552 --> 00:08:24,718
would be running on code, and no one would have access to any of

131
00:08:24,724 --> 00:08:27,914
the production environment either via RDP or SSH.

132
00:08:28,042 --> 00:08:31,326
Unfortunately, the reality is different. The truth is, I've been in

133
00:08:31,348 --> 00:08:34,722
assessments where infrastructure type is a mix of

134
00:08:34,776 --> 00:08:38,226
containers, kubernetes, vms, EC two,

135
00:08:38,328 --> 00:08:42,366
you go in and you're told, hey, we only have one tenancy.

136
00:08:42,478 --> 00:08:45,666
And you make an assumption that okay, one tenancy. So they would have gone down

137
00:08:45,688 --> 00:08:49,334
the well architected framework, they would have segmented their network properly and would

138
00:08:49,372 --> 00:08:53,126
only be using one type of compute because you would only have one application per

139
00:08:53,228 --> 00:08:56,966
network. Unfortunately, a lot of the conversations that I

140
00:08:56,988 --> 00:09:00,822
had was where one network had multiple assets

141
00:09:00,886 --> 00:09:04,458
or multiple applications hosted within that one single network, which is not

142
00:09:04,464 --> 00:09:07,770
a bad pattern if you segment them properly. But you're told

143
00:09:07,840 --> 00:09:11,562
that there's only one network without letting you know that there are

144
00:09:11,616 --> 00:09:15,006
hundreds of services within it. So you can see where the

145
00:09:15,028 --> 00:09:18,734
discrepancy comes in, because it's cloud, and one click gets your data

146
00:09:18,772 --> 00:09:22,858
better. So assuming that if someone tells you we only have one tenancy,

147
00:09:22,954 --> 00:09:26,354
whether it's AWS, azure or GCP, you probably are

148
00:09:26,392 --> 00:09:30,322
looking at potentially hundreds of services. That's kind of

149
00:09:30,376 --> 00:09:34,302
point number one, application itself, you could have a mix of monolith

150
00:09:34,366 --> 00:09:37,706
or a microservices. Now generally this is easier to kind of comprehend,

151
00:09:37,758 --> 00:09:41,222
because if an organization has been in existence for over ten years,

152
00:09:41,276 --> 00:09:45,110
it's most likely they already have some monoliths which they've been carrying over.

153
00:09:45,260 --> 00:09:48,850
So digital transformation may not have fully

154
00:09:48,930 --> 00:09:52,346
been adopted. So you might see a mix of things which are

155
00:09:52,368 --> 00:09:55,434
not that flexible, so they might not give you that to

156
00:09:55,472 --> 00:09:58,906
assess. They would just say, hey, focus on these, do not focus on

157
00:09:58,928 --> 00:10:02,346
these. So there could be those kind of scenarios as well. Now we'd mentioned source

158
00:10:02,378 --> 00:10:06,142
types, and I think it's worthwhile calling out, not everyone does

159
00:10:06,196 --> 00:10:09,902
automation in cloud, not everyone does infrastructure has

160
00:10:09,956 --> 00:10:13,454
cloud. Sometimes it's just easier for you to click through

161
00:10:13,492 --> 00:10:17,086
the console of your favorite CSP and just deploy

162
00:10:17,118 --> 00:10:20,386
them. But what that also means is the other extreme where

163
00:10:20,408 --> 00:10:24,258
people have gone down the infrastructure has code path. What I was getting a

164
00:10:24,264 --> 00:10:28,130
lot of times as an auditor was a Yaml file, and I was told,

165
00:10:28,200 --> 00:10:31,814
hey, audit the Yaml file. This is exactly what we use, and this goes

166
00:10:31,852 --> 00:10:35,430
into production. So no access to the actual accounts as well

167
00:10:35,500 --> 00:10:38,966
as you can imagine, that makes things very difficult. The other thing that

168
00:10:38,988 --> 00:10:42,746
you would also notice from a source perspective is the type of

169
00:10:42,768 --> 00:10:46,054
access you get. Some organizations, they'll give you all admin

170
00:10:46,102 --> 00:10:49,898
access, because it's a small team like some of the startups that I worked with

171
00:10:49,984 --> 00:10:53,182
gave me full access, and this is a trust because it's a small team

172
00:10:53,236 --> 00:10:57,178
of 25 people, everyone knows everyone and understandable,

173
00:10:57,274 --> 00:11:01,466
but I would probably say do not give admin access to an external auditor who's

174
00:11:01,498 --> 00:11:05,130
trying to assess your cloud environment. The other one example that

175
00:11:05,140 --> 00:11:08,754
I've seen is where each business unit gets its own

176
00:11:08,792 --> 00:11:12,050
data center or tenancy, and you end up in a situation

177
00:11:12,120 --> 00:11:15,874
where you have 20 plus accounts under one business unit because

178
00:11:15,912 --> 00:11:19,890
they were told by Amazon you should have segregation of accounts.

179
00:11:19,970 --> 00:11:23,110
And they've created multiple accounts because creating an account is free,

180
00:11:23,180 --> 00:11:26,502
but you just put so much stuff in there. So that's another

181
00:11:26,556 --> 00:11:30,502
version which we come across where they might ask you to audit just one

182
00:11:30,556 --> 00:11:34,586
business unit, but then again, kind of like the infrastructure type where you

183
00:11:34,608 --> 00:11:38,774
assume it's just one business unit. So Max might what, five to ten applications,

184
00:11:38,822 --> 00:11:42,014
but kind of realize it's a lot more. These are examples of

185
00:11:42,052 --> 00:11:45,806
not so mature cloud organizations. However, there are

186
00:11:45,828 --> 00:11:49,198
some good examples as well that I had the fortune to work with some of

187
00:11:49,204 --> 00:11:52,702
these mature organizations. An enterprise, they had

188
00:11:52,756 --> 00:11:56,146
predefined security default for all their environments. They did

189
00:11:56,168 --> 00:11:59,570
have a centralized team to deploy and provision cloud

190
00:11:59,640 --> 00:12:03,326
tenancies for their entire organization. So if I was a business unit

191
00:12:03,358 --> 00:12:06,818
and I wanted a AWS account, I can go to that team and get an

192
00:12:06,824 --> 00:12:10,486
AWS account which already had my security defaults over there. I was

193
00:12:10,508 --> 00:12:13,926
given access with a read only permission and I was

194
00:12:13,948 --> 00:12:17,334
given, provided, even provided mean I was mind

195
00:12:17,372 --> 00:12:20,554
blown at that point. I'm like oh my God, they want me to actually use

196
00:12:20,592 --> 00:12:24,602
come of the automation that I've created to not waste their

197
00:12:24,656 --> 00:12:28,186
time with me asking them questions and figuring out how to put

198
00:12:28,208 --> 00:12:31,962
access keys instead I could just run come automation and do the

199
00:12:32,016 --> 00:12:35,406
entire audit in half the time. So I can understand

200
00:12:35,508 --> 00:12:39,134
the architecture of the application in the first half of

201
00:12:39,172 --> 00:12:42,558
my audit and the remaining is basically cut in half because I'm just going

202
00:12:42,564 --> 00:12:46,434
to run a tool while I'm having the interview with them. So I'm just saying

203
00:12:46,472 --> 00:12:50,306
I love mature organizations. So that's some of the realities that you

204
00:12:50,328 --> 00:12:53,506
find in a organization which has just,

205
00:12:53,608 --> 00:12:57,382
I guess found their way to maturity. You can already see documentation is

206
00:12:57,516 --> 00:13:01,538
starting to show some cracks. We definitely don't have AWS well architected

207
00:13:01,554 --> 00:13:05,154
framework or Azure or even Google Cloud's well architected framework

208
00:13:05,202 --> 00:13:08,834
being used. And then the assumption that everything is cloud native.

209
00:13:08,882 --> 00:13:12,442
Because if you read documentation from any of your CSPM, they're basically calling

210
00:13:12,496 --> 00:13:16,070
out like for example Azure would say use Azure DevOps,

211
00:13:16,150 --> 00:13:19,866
don't use Jenkins or any other tool, insert another tool which is

212
00:13:19,888 --> 00:13:23,934
open source, but your developers love it. They would also call out you should

213
00:13:24,052 --> 00:13:27,786
use only the tools that are there in their cloud service provider,

214
00:13:27,818 --> 00:13:31,166
which clearly is not a complete security suite. But sure,

215
00:13:31,268 --> 00:13:34,942
we clearly cannot be following that to the t. Not just

216
00:13:34,996 --> 00:13:38,622
as someone who audits AWS assessments or does AWS

217
00:13:38,686 --> 00:13:42,302
assessments or even runs a team that has AWS assessments.

218
00:13:42,366 --> 00:13:45,714
If you're one of those, you probably should start thinking about don't just rely on

219
00:13:45,752 --> 00:13:49,158
cloud native and stop drinking the kool aid. For lack of better word,

220
00:13:49,244 --> 00:13:52,674
they don't have all the answers to all your security requirements.

221
00:13:52,722 --> 00:13:56,342
So you definitely have to seek an external person to

222
00:13:56,476 --> 00:14:00,086
either identify what you're missing or have someone in your team

223
00:14:00,188 --> 00:14:03,846
research and find out what you're actually missing. From a risk perspective,

224
00:14:03,878 --> 00:14:07,514
you could be completely missing out on some of the blind spots that

225
00:14:07,552 --> 00:14:11,094
are created by just drinking the cloud koolaid. Let's talk about threats.

226
00:14:11,222 --> 00:14:15,386
And I love this. As I mentioned, I love dogs. So this was something hilarious

227
00:14:15,418 --> 00:14:19,546
that I found out somehow people have this negative, I guess, emotion attached

228
00:14:19,578 --> 00:14:22,686
to doing threats assessments. And I just do not

229
00:14:22,708 --> 00:14:26,914
get it because I understand there's a compliance requirement and you're trying to have a

230
00:14:27,032 --> 00:14:30,594
certification. So you can increase your sales as a startup or

231
00:14:30,632 --> 00:14:34,226
as an enterprise. You can show that the customers can

232
00:14:34,248 --> 00:14:38,214
trust your organization because you take security seriously and consider all

233
00:14:38,252 --> 00:14:42,054
kinds of threats in cloud. So let's go through these threats and

234
00:14:42,092 --> 00:14:45,366
identify what kind of brackets do these really fit in.

235
00:14:45,468 --> 00:14:49,442
This is the meter attack, which is a really popular TTP

236
00:14:49,506 --> 00:14:53,446
or tactic tools and techniques. That's how they say it. Or tactic techniques

237
00:14:53,478 --> 00:14:56,762
and tools. However you want to say it, every threat hunter would

238
00:14:56,816 --> 00:15:00,438
look at something like this in order to understand what is the kill chain

239
00:15:00,534 --> 00:15:04,430
or aka how do I completely take over an

240
00:15:04,500 --> 00:15:08,442
AWS, GCP or azure account or tenancy?

241
00:15:08,586 --> 00:15:12,010
These are some of the kill chains that are known in the industry.

242
00:15:12,090 --> 00:15:15,586
So as you can see, start from the left, how you get initial access,

243
00:15:15,688 --> 00:15:19,282
how do you persist access? How do you go about

244
00:15:19,416 --> 00:15:22,786
escalating your privileges, what kind of defense measures you

245
00:15:22,808 --> 00:15:26,530
can take, and credential access? How can you do discovery work?

246
00:15:26,600 --> 00:15:29,670
I'm going to try and focus on the initial access because

247
00:15:29,820 --> 00:15:33,430
everything else is built on the assumption that you have access.

248
00:15:33,500 --> 00:15:36,982
So I guess why not build threat on how someone

249
00:15:37,036 --> 00:15:40,346
would get initial access, right? So let's focus on that. If you look at all

250
00:15:40,368 --> 00:15:44,058
of these drive by compromise, exploit, public facing application

251
00:15:44,144 --> 00:15:47,882
phishing, trusted relationship and valid accounts, they kind of fall into

252
00:15:47,936 --> 00:15:51,826
three big buckets. Someone's exploiting a public facing

253
00:15:51,878 --> 00:15:56,042
application of yours, or someone who's successful in getting credentials

254
00:15:56,106 --> 00:15:59,946
from one of your staff members, or you're not managing

255
00:15:59,978 --> 00:16:03,774
your supply chain or third party in a good way. Let's take a deeper look,

256
00:16:03,812 --> 00:16:06,158
right, because we're talking about threats. I'm not just not going to give you the

257
00:16:06,164 --> 00:16:09,922
high level definition. Let's go a bit more deeper. Public facing applications is usually

258
00:16:09,976 --> 00:16:13,966
around application security and network security. Remember the conversation about one network

259
00:16:13,998 --> 00:16:17,334
that I had just before? And application security is the application which is

260
00:16:17,372 --> 00:16:20,994
hosted inside that network. Accidental s three bucket

261
00:16:21,042 --> 00:16:24,886
being made public, or a Google Cloud bucket being made public. Those are

262
00:16:24,908 --> 00:16:28,518
scenarios for public facing application. There's another scenario where you could have

263
00:16:28,524 --> 00:16:31,850
a Kubernetes clusters API open to the Internet as well.

264
00:16:31,920 --> 00:16:35,274
Someone's able to use that and escape out. Brings me to point number two,

265
00:16:35,312 --> 00:16:39,462
which is phishing identity access management and secret management. Your identity

266
00:16:39,606 --> 00:16:42,726
access management uses the same password as

267
00:16:42,768 --> 00:16:46,158
your corporate username password. There is no single sign on, there is

268
00:16:46,164 --> 00:16:49,146
no multiple factor. And to make things worse,

269
00:16:49,258 --> 00:16:52,522
in a cloud environment, it's not just a regular user,

270
00:16:52,586 --> 00:16:56,542
an admin user, there's a third kind of user or an identity

271
00:16:56,606 --> 00:17:00,014
in a cloud environment, which is also called a server identity

272
00:17:00,062 --> 00:17:03,198
or a computer identity. The concept is even when you're

273
00:17:03,214 --> 00:17:07,742
not logged in, you can make a server or a service have permissions

274
00:17:07,886 --> 00:17:11,026
which they can use to go and take some actions. Now it's

275
00:17:11,058 --> 00:17:14,834
great from an automation perspective, you could be sleeping and all your machines

276
00:17:14,882 --> 00:17:18,598
are being patched or all your scans are running while you're sleeping away.

277
00:17:18,684 --> 00:17:22,362
But the other point to this also is that if someone exploits that and

278
00:17:22,416 --> 00:17:26,266
is able to use that key that's been provided to that, I guess,

279
00:17:26,368 --> 00:17:29,578
server, they can use it for doing exactly the opposite of what it should

280
00:17:29,584 --> 00:17:32,938
be doing. So that's phishing, invalid accounts. Third party management

281
00:17:33,034 --> 00:17:36,378
for this is primarily around shared responsibility. Now whether it's

282
00:17:36,394 --> 00:17:40,126
shared responsibility between the third party that you give access to, you may have a

283
00:17:40,148 --> 00:17:43,742
CSPM for managing security posture, you may have a data

284
00:17:43,796 --> 00:17:47,330
dog for performance management or something else. Include any services

285
00:17:47,400 --> 00:17:51,554
that you may think of and you give them access user either a

286
00:17:51,592 --> 00:17:55,218
credential of some sort into your cloud service provider. As you've done that,

287
00:17:55,304 --> 00:17:59,154
you've basically opened up another identity that has access to your environment.

288
00:17:59,202 --> 00:18:03,282
So let's just say probably should look into reviewing this ongoingly

289
00:18:03,346 --> 00:18:07,334
and also try to look at having come kind of a check

290
00:18:07,452 --> 00:18:11,862
for how often was someone accessing or updating

291
00:18:12,006 --> 00:18:15,434
new third party supply chains or new third party into

292
00:18:15,472 --> 00:18:19,206
your supply chain? Let's talk about assessment types. We've spoken about the source,

293
00:18:19,238 --> 00:18:22,086
we've spoken about the kind of adoption. So I'm an auditor,

294
00:18:22,198 --> 00:18:25,626
or I'm about to learn auditing and I've kind of gone in. Okay, so I've

295
00:18:25,658 --> 00:18:28,702
given you a realistic picture of the kind of environments you would see.

296
00:18:28,756 --> 00:18:31,934
Let's talk about the kind of assessments that people do. One is

297
00:18:31,972 --> 00:18:36,026
a point in time, big bracket. Point in time would be someone, an auditor

298
00:18:36,058 --> 00:18:39,534
comes in, goes through a checklist with you for one of the compliance

299
00:18:39,582 --> 00:18:43,118
standards that we mentioned earlier, whether that's iso 27,001 or NIST

300
00:18:43,214 --> 00:18:46,754
standard or soc two, type two as well. Another type for point in time is

301
00:18:46,792 --> 00:18:49,766
someone like me or another person who would have been part of my team who

302
00:18:49,788 --> 00:18:53,426
uses automation. We would come in, we would ask you about architecture

303
00:18:53,458 --> 00:18:56,870
review of what is the architecture of your cloud

304
00:18:56,940 --> 00:19:00,342
environment, what kind of services are you using? And we may even

305
00:19:00,396 --> 00:19:04,234
validate that using some kind of an automation tool. Because let's face

306
00:19:04,272 --> 00:19:07,786
it, you may think you know all the services, but that may not be the

307
00:19:07,808 --> 00:19:11,706
complete truth. So it's always a good idea to have

308
00:19:11,728 --> 00:19:15,086
some kind of automation handy with some access keys or some

309
00:19:15,108 --> 00:19:18,334
username passwords that you can have for the AWS or

310
00:19:18,372 --> 00:19:21,550
Azure or Google Cloud account. So you can understand on your own,

311
00:19:21,620 --> 00:19:25,470
are there services that the customer or the client should be aware of,

312
00:19:25,540 --> 00:19:29,586
which they're not currently, unless they have basically chosen to hide that

313
00:19:29,608 --> 00:19:32,594
information. The complete different story. Now, these are point in time,

314
00:19:32,712 --> 00:19:36,074
another form of assessment that a lot of people think is an assessment,

315
00:19:36,142 --> 00:19:40,198
but I think it's more awareness and visibility and

316
00:19:40,284 --> 00:19:44,386
monitoring, which is the continuous assessment type, which is providers

317
00:19:44,418 --> 00:19:47,494
like of your CSPM, which is cloud security posture manager or

318
00:19:47,532 --> 00:19:50,966
cloud access security brokers, CASP, what these provide,

319
00:19:51,068 --> 00:19:54,582
and I would not be going into too much definition of these providers.

320
00:19:54,646 --> 00:19:58,026
They are excellent tools. If you are starting off in cloud for the

321
00:19:58,048 --> 00:20:01,226
first time and you have no idea where to go, great tools for that.

322
00:20:01,328 --> 00:20:04,606
It gives you visibility for what your cloud

323
00:20:04,708 --> 00:20:08,206
looks like compared to a standard which could be CIs or

324
00:20:08,228 --> 00:20:12,170
NIST or some other standard that they support right now. And CASB's

325
00:20:12,250 --> 00:20:16,274
are almost, the way I would put this is it's a proxy for

326
00:20:16,312 --> 00:20:19,874
what kind of services are allowed in your network. So you could choose

327
00:20:19,912 --> 00:20:23,490
to say I only allow AWS as a cloud service

328
00:20:23,560 --> 00:20:27,218
provider in my environment. Or Azure has the only one, or maybe a

329
00:20:27,224 --> 00:20:31,030
combination of two most popular ones nothing outside that. You would control

330
00:20:31,100 --> 00:20:34,386
that using cloud access security broker you scans also use that for checking

331
00:20:34,418 --> 00:20:38,258
what other SaaS services are being used in your organization, but that's

332
00:20:38,274 --> 00:20:41,730
more of a continuous model. So what's the reality of getting

333
00:20:41,820 --> 00:20:45,814
any of these assessments done? If you're looking at a point in time or continuous

334
00:20:45,862 --> 00:20:49,254
assessment, the difference would be in a point in time continuous

335
00:20:49,302 --> 00:20:52,906
assessment. If you do a regular point in time assessment, you get an audit

336
00:20:52,938 --> 00:20:56,110
of your architecture and get information about

337
00:20:56,180 --> 00:21:00,170
what may be a potential risk that you're exposing yourself to without realizing

338
00:21:00,250 --> 00:21:03,406
in your cloud environment, which the CSPM may not have

339
00:21:03,428 --> 00:21:07,042
considered and worthwhile calling out the cspms of the world.

340
00:21:07,176 --> 00:21:11,022
They are great tools, but they're usually focusing on the checklist

341
00:21:11,086 --> 00:21:15,106
approach because there's an API that they call and they rely on

342
00:21:15,128 --> 00:21:18,790
the availability of an API before they can even add that checklist in there.

343
00:21:18,860 --> 00:21:22,530
There's no manual approach to it. So the risk that is shared

344
00:21:22,610 --> 00:21:26,274
is a based on a checklist which is API

345
00:21:26,322 --> 00:21:29,682
driven. Great for something that already has an API.

346
00:21:29,746 --> 00:21:33,414
But for me personally, what I found after running CSPM

347
00:21:33,462 --> 00:21:36,874
for a lot of years, it looks a context for why

348
00:21:36,992 --> 00:21:40,086
is something a high risk? Why is it a high risk

349
00:21:40,118 --> 00:21:43,338
if I have an s three bucket open to public when it is supposed to

350
00:21:43,344 --> 00:21:46,746
be public? Or why do I have it has a risk

351
00:21:46,778 --> 00:21:50,222
when my s three bucket policy on the top of AWS account,

352
00:21:50,276 --> 00:21:54,154
which controls all the s three bucket policies says irrespective of the status

353
00:21:54,202 --> 00:21:57,502
of the individual bucket, all my buckets are going to remain private.

354
00:21:57,566 --> 00:22:01,342
So things like that are just not there. There is a context

355
00:22:01,406 --> 00:22:05,090
missing between a CSPM and a CASB. It's a great tool

356
00:22:05,160 --> 00:22:08,514
for you, giving you visibility, but it just lacks that

357
00:22:08,552 --> 00:22:11,862
context. So it doesn't have the context of the architecture. If it makes sense

358
00:22:11,916 --> 00:22:15,366
to architect a solution like that from a security context, if there

359
00:22:15,388 --> 00:22:19,062
are enough defense and dev layers, it doesn't make sense from a

360
00:22:19,116 --> 00:22:22,506
concept of okay, as I'm saying this, I do want to call it

361
00:22:22,528 --> 00:22:25,898
out. I don't dislike CSPM. Hate is probably a strong word.

362
00:22:25,984 --> 00:22:29,722
The reason I say this is because I think it's worthwhile calling

363
00:22:29,776 --> 00:22:33,646
out that the report that you would get from a

364
00:22:33,748 --> 00:22:37,914
point in time assessment would help you create actionable backlogs

365
00:22:37,962 --> 00:22:41,454
in your security team or relevant development teams. Whereas what you get from

366
00:22:41,492 --> 00:22:45,326
a CASB or CSPM may really be about how

367
00:22:45,348 --> 00:22:48,546
do you link to a compliance checklist, which may be the goal of

368
00:22:48,568 --> 00:22:52,146
your organizations are totally fine with that, but you probably need more than

369
00:22:52,168 --> 00:22:55,586
that to understand why is this something a risk? And is this genuinely a

370
00:22:55,608 --> 00:22:59,218
risk or just a false positive? So a real risk is

371
00:22:59,304 --> 00:23:02,438
only real, in my opinion, is when it's assessed by people

372
00:23:02,524 --> 00:23:05,606
like you and I, unless AI machine learning gets to that point where it can

373
00:23:05,628 --> 00:23:09,030
make that, I guess, call. So whenever that happens, but for the moment,

374
00:23:09,100 --> 00:23:12,582
we're stuck with this. So I'm going to stop bashing

375
00:23:12,646 --> 00:23:15,738
CSPM. But let me just tell you about, I guess the other things that I've

376
00:23:15,744 --> 00:23:19,754
noticed being has caspian CSPM after being customer of these for some

377
00:23:19,792 --> 00:23:23,734
time. The checks and controls are obviously API driven and

378
00:23:23,792 --> 00:23:27,182
if there is a service which is released by one of the cloud service

379
00:23:27,236 --> 00:23:30,846
provider, it's not always the case that it becomes available

380
00:23:30,948 --> 00:23:34,126
on the day of the release. So if there's a new service that

381
00:23:34,148 --> 00:23:37,310
gets announced right now by any of the cloud service providers,

382
00:23:37,390 --> 00:23:41,026
your CASB or your CSPM may take some time or may rely on

383
00:23:41,048 --> 00:23:44,434
your feedback before this gets added into your so

384
00:23:44,472 --> 00:23:48,254
called continuous assessment tool, which ends up in a scenario

385
00:23:48,302 --> 00:23:51,894
where you have a lot of wall of red. So for example, assume I

386
00:23:51,932 --> 00:23:55,314
came in or someone else who looks like me and knows like me uses

387
00:23:55,362 --> 00:23:59,686
automation for reducing the audit time to half and comes

388
00:23:59,788 --> 00:24:03,274
with a checklist and gives it to you. What you might realize if you use

389
00:24:03,312 --> 00:24:06,746
some of that checklist and dig into one of these CSPM. A lot of them

390
00:24:06,768 --> 00:24:10,294
may already be there, but they're buried in the gamut

391
00:24:10,342 --> 00:24:14,458
of false positives or ignored messages or alerts

392
00:24:14,554 --> 00:24:18,110
of CSPM. If this was real chalk, I would probably go

393
00:24:18,180 --> 00:24:22,154
raise your hand if you have seen a wall of red on your CSPM

394
00:24:22,202 --> 00:24:26,118
provider. How many have zero as the alerts

395
00:24:26,154 --> 00:24:29,442
on their CSPM provider? I do not know of that many

396
00:24:29,496 --> 00:24:33,026
examples where people have not had false positive because of

397
00:24:33,048 --> 00:24:36,194
the lack of context, which is what I was talking about earlier. So that's the

398
00:24:36,232 --> 00:24:40,134
honest truth between a point of in time assessment as well has an

399
00:24:40,172 --> 00:24:43,270
automation driven assessment and a

400
00:24:43,420 --> 00:24:47,266
tool which is a CSPM or a CASP. That's the difference. Talking about tools,

401
00:24:47,298 --> 00:24:50,198
I wanted to call out some of the tools that I've personally used and some

402
00:24:50,204 --> 00:24:53,834
of the tools that have been recommended by the community, I would definitely

403
00:24:53,872 --> 00:24:56,986
ask you to check them out. Obviously this is not a complete list. This is

404
00:24:57,008 --> 00:25:00,426
the one that I could fit in the slide, but if there are ones that

405
00:25:00,448 --> 00:25:04,174
are popular and I've missed out on them, clearly add them in has

406
00:25:04,212 --> 00:25:07,822
you go these are just for the tools of the

407
00:25:07,876 --> 00:25:11,246
compute itself, but there's another version that's coming out which

408
00:25:11,268 --> 00:25:14,974
is specifically for infrastructure as code, which I believe is almost like

409
00:25:15,012 --> 00:25:18,622
the next generation of cloud security. Having done cloud security podcast

410
00:25:18,686 --> 00:25:22,802
for almost two years with 40,000 downloads, and having endless conversations with

411
00:25:22,856 --> 00:25:26,986
cloud security experts around the world, one thing I've realized, we're going through evolutions

412
00:25:27,038 --> 00:25:30,438
of how cloud security is evolving. These are lists which

413
00:25:30,524 --> 00:25:34,214
are applicable across the board for the moment, irrespective of

414
00:25:34,252 --> 00:25:37,618
if you're using infrastructure as code or not. But now we're

415
00:25:37,634 --> 00:25:41,414
at that generation where a lot of tools like checkoff from bridge

416
00:25:41,462 --> 00:25:45,446
crew and other tools which are going into the space of infrastructure

417
00:25:45,478 --> 00:25:49,798
as code security where the DevOps is transformed into devsecops

418
00:25:49,894 --> 00:25:53,846
and the security alerts are being captured right in the beginning when it's

419
00:25:53,878 --> 00:25:57,658
being committed into your source repository or your code repository.

420
00:25:57,754 --> 00:26:00,702
So do check them out as well. But this is a great place to start

421
00:26:00,756 --> 00:26:04,378
if you are someone who may have a combination of complex environments

422
00:26:04,474 --> 00:26:07,922
with a bit of infrastructure as code, and bit of automation and bit of click

423
00:26:07,976 --> 00:26:11,058
Ops. So definitely check these out and obviously ask any questions if

424
00:26:11,064 --> 00:26:14,542
you have any. In conclusion, I have a few truth that I wanted to reveal.

425
00:26:14,606 --> 00:26:18,398
You definitely need both continuous as well as point in time assessments.

426
00:26:18,494 --> 00:26:22,182
Continuous assessments are great from a monitoring perspective, as at any given

427
00:26:22,236 --> 00:26:26,118
point in time you don't want to wait for a hypothetical ashish to knock on

428
00:26:26,124 --> 00:26:29,526
your door and hey, let's talk for the next two weeks and see what we

429
00:26:29,548 --> 00:26:33,174
can find out when you're done. Assessment you need something ongoing so you can monitor

430
00:26:33,222 --> 00:26:36,442
for configuration drifts. So you definitely need something

431
00:26:36,496 --> 00:26:39,594
like a CSPM, or probably even something better than a CSPM if you can design

432
00:26:39,632 --> 00:26:43,046
it on your own. Talking about designing on your own, the challenge with open source

433
00:26:43,078 --> 00:26:46,126
tools, if you do go down that path, like the example that I gave you

434
00:26:46,148 --> 00:26:50,110
before, open source tools are great, but they also would not cover

435
00:26:50,180 --> 00:26:53,566
all the new services, which means you need to have some skill set in your

436
00:26:53,588 --> 00:26:57,042
team to either add and contribute into the open

437
00:26:57,096 --> 00:27:00,482
source so you have the new services available and

438
00:27:00,536 --> 00:27:04,734
someone has spent the time to understand what is a security requirement

439
00:27:04,782 --> 00:27:07,986
for a particular service that has been released. I would also ask if

440
00:27:08,008 --> 00:27:11,798
you are engaging an auditor, definitely understand if they

441
00:27:11,884 --> 00:27:15,174
have an understanding of cloud, because let's be honest,

442
00:27:15,292 --> 00:27:19,074
running an assessment on premise is not the same as running assessment

443
00:27:19,122 --> 00:27:22,310
on cloud, where a lot of compute can be ephemeral.

444
00:27:22,390 --> 00:27:25,898
You may have instances right now, but the IP changes

445
00:27:25,984 --> 00:27:29,306
because the instance went down and a new ip came up and it has been

446
00:27:29,328 --> 00:27:32,294
auto scaling or dynamically scaling up and down.

447
00:27:32,432 --> 00:27:35,694
So you need to have an auditor that understands that

448
00:27:35,732 --> 00:27:39,706
context because you don't want to go into a compliance audit

449
00:27:39,738 --> 00:27:43,262
without realizing the truth behind whether they understand the environment in order,

450
00:27:43,316 --> 00:27:47,274
whether you are in this exercise going to spend probably a lot more time

451
00:27:47,332 --> 00:27:50,706
than someone who just understands cloud and know what to do when

452
00:27:50,728 --> 00:27:53,902
you tell them, hey, I'm using this service from this cloud service provider,

453
00:27:53,966 --> 00:27:57,138
and that's why we comply with this requirement. What do you think? They should be

454
00:27:57,144 --> 00:28:00,398
able to give you a reasonable answer, which makes sense to both you and them

455
00:28:00,424 --> 00:28:03,270
as well. So I would say the other approach you can take,

456
00:28:03,340 --> 00:28:06,454
if you don't find one of those auditors and you probably are stuck with someone

457
00:28:06,492 --> 00:28:10,230
who doesn't run internal assessments, call in someone. Again,

458
00:28:10,300 --> 00:28:13,930
it doesn't need to be someone who has tools, that people

459
00:28:14,000 --> 00:28:17,706
have been creating the community, but at least they have an understanding of

460
00:28:17,808 --> 00:28:21,226
what the cloud infrastructure should be like, and they understand what

461
00:28:21,248 --> 00:28:24,510
kind of common security services from the cloud service

462
00:28:24,580 --> 00:28:27,546
provider you can use to pass your assessments.

463
00:28:27,658 --> 00:28:31,454
But at the same time, what are the gaps that are left behind by using

464
00:28:31,492 --> 00:28:35,098
those cloud assessment tools which are provided by the cloud service provider?

465
00:28:35,194 --> 00:28:37,826
Last but not the least, the one truth that I want to give away,

466
00:28:37,848 --> 00:28:41,518
and that's quite bold and underlined, a successful compliance certification

467
00:28:41,614 --> 00:28:44,946
doesn't really mean you're secure. It just does mean that you were able to

468
00:28:44,968 --> 00:28:48,786
convince an auditor that you are ticking all the boxes. So I

469
00:28:48,808 --> 00:28:52,438
would ask you to be honest yourself with an audit now you

470
00:28:52,444 --> 00:28:55,826
know what the truth behind doing an assessment from an auditor perspective

471
00:28:55,858 --> 00:28:59,254
or a practitioner perspective is. So I would hope you would make

472
00:28:59,292 --> 00:29:02,998
the right call and find an internal assessment

473
00:29:03,094 --> 00:29:06,602
by your team or by calling an external auditor, maybe even build

474
00:29:06,656 --> 00:29:09,386
some tools of your own and some checklists of your own which are relevant for

475
00:29:09,408 --> 00:29:13,222
your organization or your industry, and use that as a baseline

476
00:29:13,286 --> 00:29:17,326
for calling yourself secure. Or I guess, as secure as possible, because no

477
00:29:17,348 --> 00:29:21,022
one's 100% secure. That's what my conclusion for you would be. And one final

478
00:29:21,076 --> 00:29:24,458
thought would be find your trusted advisor to get a real picture

479
00:29:24,474 --> 00:29:27,518
of risk in your cloud environment. I hope you learned something from this. So if

480
00:29:27,524 --> 00:29:30,574
you have any questions or feedback, feel free to reach out to me

481
00:29:30,612 --> 00:29:34,154
on that website. But otherwise, I just wanted to say thank you for inviting

482
00:29:34,202 --> 00:29:37,654
me for this talk, and I am looking forward to some of the questions

483
00:29:37,692 --> 00:29:41,478
that come through for this. If you're someone who enjoys cloud security content,

484
00:29:41,564 --> 00:29:44,886
I would definitely ask you to just check out cloud cloud security podcast.

485
00:29:44,908 --> 00:29:48,246
Well, but otherwise I would see you, but in the wild. But thank you so

486
00:29:48,268 --> 00:29:50,660
much for your time, and I look forward to talking to you soon.

